/*!
 * jsonformatter
 * 
 * Version: 0.4.3 - 2016-02-07T14:58:52.925Z
 * License: MIT
 */
"use strict";angular.module("jsonFormatter",["RecursionHelper"]).provider("JSONFormatterConfig",function(){var e=!1,n=100,t=5,r="json-formatter.html";return{get hoverPreviewEnabled(){return e},set hoverPreviewEnabled(n){e=!!n},get hoverPreviewArrayCount(){return n},set hoverPreviewArrayCount(e){n=parseInt(e,10)},get hoverPreviewFieldCount(){return t},set hoverPreviewFieldCount(e){t=parseInt(e,10)},get templateUrl(){return r},set templateUrl(e){r=e},$get:function(){return{hoverPreviewEnabled:e,hoverPreviewArrayCount:n,hoverPreviewFieldCount:t,templateUrl:r}}}}).directive("jsonFormatter",["RecursionHelper","JSONFormatterConfig",function(e,n){function t(e){return e.replace('"','"')}function r(e){if(void 0===e)return"";if(null===e)return"Object";if("object"==typeof e&&!e.constructor)return"Object";var n=/function (.{1,})\(/,t=n.exec(e.constructor.toString());return t&&t.length>1?t[1]:""}function o(e){return null===e?"null":typeof e}function i(e,n){var r=o(e);return"null"===r||"undefined"===r?r:("string"===r&&(n='"'+t(n)+'"'),"function"===r?e.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{…}":n)}function u(e){var n="";return angular.isObject(e)?(n=r(e),angular.isArray(e)&&(n+="["+e.length+"]")):n=i(e,e),n}function c(e){e.isArray=function(){return angular.isArray(e.json)},e.isObject=function(){return angular.isObject(e.json)},e.getKeys=function(){return e.isObject()?Object.keys(e.json).map(function(e){return""===e?'""':e}):void 0},e.type=o(e.json),e.hasKey="undefined"!=typeof e.key,e.getConstructorName=function(){return r(e.json)},"string"===e.type&&("Invalid Date"!==new Date(e.json).toString()&&(e.isDate=!0),0===e.json.indexOf("http")&&(e.isUrl=!0)),e.isEmptyObject=function(){return e.getKeys()&&!e.getKeys().length&&e.isOpen&&!e.isArray()},e.isOpen=!!e.open,e.toggleOpen=function(){e.isOpen=!e.isOpen},e.childrenOpen=function(){return e.open>1?e.open-1:0},e.openLink=function(n){n&&(window.location.href=e.json)},e.parseValue=function(n){return i(e.json,n)},e.showThumbnail=function(){return!!n.hoverPreviewEnabled&&e.isObject()&&!e.isOpen},e.getThumbnail=function(){if(e.isArray())return e.json.length>n.hoverPreviewArrayCount?"Array["+e.json.length+"]":"["+e.json.map(u).join(", ")+"]";var t=e.getKeys(),r=t.slice(0,n.hoverPreviewFieldCount),o=r.map(function(n){return n+":"+u(e.json[n])}),i=t.length>=5?"…":"";return"{"+o.join(", ")+i+"}"}}return{templateUrl:n.templateUrl,restrict:"E",replace:!0,scope:{json:"=",key:"=",open:"="},compile:function(n){return e.compile(n,c)}}}]),"object"==typeof module&&(module.exports="jsonFormatter"),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(e){return{compile:function(n,t){angular.isFunction(t)&&(t={post:t});var r,o=n.contents().remove();return{pre:t&&t.pre?t.pre:null,post:function(n,i){r||(r=e(o)),r(n,function(e){i.append(e)}),t&&t.post&&t.post.apply(null,arguments)}}}}}]);